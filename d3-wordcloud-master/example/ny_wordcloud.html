<html>
  <head>
    <meta charset="UTF-8">
    <title>Word Cloud-NY Data</title>
    <script src="../lib/d3/d3.js" charset="utf-8"></script>
    <script src="../lib/d3/d3.layout.cloud.js"></script>
    <script src="../d3.wordcloud.js"></script>
    <script src="gun_violence_ny_d3.words.js"></script>
    <script src="gun_shooting_ny_d3.words.js"></script>
    <script src="gun_abuse_ny_d3.words.js"></script>
  </head>
  <body style="text-align: center">
    <h1>Word Cloud-NY Data</h1>
    <div id="drop_down_div"></div>
    <div id='wordcloud' style="padding: 10px; "></div>
    <p id="word_cloud_desc">This is a word cloud of the news data collected using <b>gun violence</b> as keyword(s)</p>
    <script>
      var word_cloud_words=["gun_violence_nywords","gun_shooting_nywords","gun_abuse_nywords"];
      var drop_down="<select id='word_cloud_dropdown' onchange='generate_word_cloud()'>";
      var word_cloud_selection="gun_violence_nywords";
      window.onload=function(){
      for(var i=0;i<word_cloud_words.length;i++){
        drop_down+="<option value='"+word_cloud_words[i]+"'>"+word_cloud_words[i]+"</option>";
      }
      drop_down+="</select>";
      document.getElementById("drop_down_div").innerHTML=drop_down;
     }
     function generate_word_cloud(e){
      var selection =document.getElementById("word_cloud_dropdown").value;
      console.log("selection : "+selection);
      document.getElementById("wordcloud").innerHTML="";
      if(selection == "gun_violence_nywords"){
        d3.wordcloud()
          .size([500, 300])
          .fill(d3.scale.ordinal().range(["#884400", "#448800", "#888800", "#444400"]))
          .words(gun_violence_nywords)
          .onwordclick(function(d, i) {
            if (d.href) { window.open(d.href,"_blank"); }
          })
          .start();
      }
      else if(selection == "gun_shooting_nywords"){
        d3.wordcloud()
          .size([500, 300])
          .fill(d3.scale.ordinal().range(["#884400", "#448800", "#888800", "#444400"]))
          .words(gun_shooting_nywords)
          .onwordclick(function(d, i) {
            if (d.href) { window.open(d.href,"_blank"); }
          })
          .start();
      }
      else if(selection == "gun_abuse_nywords"){
        d3.wordcloud()
          .size([500, 300])
          .fill(d3.scale.ordinal().range(["#884400", "#448800", "#888800", "#444400"]))
          .words(gun_abuse_nywords)
          .onwordclick(function(d, i) {
            if (d.href) { window.open(d.href,"_blank"); }
          })
          .start();
      }
      selection=selection.replace("nywords","");
      selection=selection.replace("_"," ");
      selection=selection.replace("_"," ");

      document.getElementById("word_cloud_desc").innerHTML="This is a word cloud of the news collected using <b>"+selection+"</b> as keyword(s)";
     }
      d3.wordcloud()
        .size([500, 300])
        .fill(d3.scale.ordinal().range(["#884400", "#448800", "#888800", "#444400"]))
        .words(gun_violence_nywords)
        .onwordclick(function(d, i) {
          if (d.href) { window.open(d.href,"_blank"); }
        })
        .start();
    </script>
  </body>
</html>

